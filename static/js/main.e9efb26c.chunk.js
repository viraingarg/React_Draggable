(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(74)},40:function(e,t,a){},41:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(28),l=a.n(i),r=(a(40),a(8)),o=a(9),c=a(11),m=a(10),h=a(3),d=a(12),u=(a(41),a(7)),g=a(29),p=a.n(g),v=a(30),E=a.n(v),f=a(31),b=a.n(f),P=(a(65),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={allPermissionsList:["Travel","Rule Class","Travel Policy","Policy Violations Reason","Travel Rule","Travel Vendor Exclusion","Travel Discount","Contracts","Vendor Discount","Vendor Rule"],grantedPermissionsList:[],queriedAllPermissionsList:[],queriedgrantedPermissionsList:[],selectedPermissionsInAll:[],selectedPermissionsInGranted:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleAllPermissionsSearch",value:function(e){var t=[];e.target.value.length>0?(this.state.allPermissionsList.forEach(function(a){a.search(e.target.value)>-1&&t.push(a)}),this.setState({queriedAllPermissionsList:t})):this.setState({queriedAllPermissionsList:[]})}},{key:"handleGrantedPermissionsSearch",value:function(e){var t=[];e.target.value.length>0?(this.state.grantedPermissionsList.forEach(function(a){a.search(e.target.value)>-1&&t.push(a)}),this.setState({queriedgrantedPermissionsList:t})):this.setState({queriedgrantedPermissionsList:[]})}},{key:"onDrop",value:function(e,t){var a=e.dataTransfer.getData("permissionName");if("GrantedPermissions"===t){var s=Object(u.a)(this.state.grantedPermissionsList);-1===s.indexOf(a)&&s.push(a),this.setState({grantedPermissionsList:s})}else if("AllPermissions"===t){var n=Object(u.a)(this.state.grantedPermissionsList),i=n.indexOf(a);n.splice(i,1),this.setState({grantedPermissionsList:n})}}},{key:"onDragStart",value:function(e,t){console.log("permissionName",t),e.dataTransfer.setData("permissionName",t)}},{key:"generateDraggableList",value:function(e,t){var a=this,s=[];return e.forEach(function(e){s.push(n.a.createElement("div",{onDragStart:function(t){return a.onDragStart(t,e)},draggable:!0,key:e,onClick:a.handleClick.bind(a,e,t),className:"all"===t&&a.state.selectedPermissionsInAll.includes(e)?"draggable-selected":"granted"===t&&a.state.selectedPermissionsInGranted.includes(e)?"draggable-selected-delete":""},n.a.createElement("span",null,e)))}),s}},{key:"handleClick",value:function(e,t){console.log("Handle Click Called ",e,t);var a=[];if("all"===t){if((a=Object(u.a)(this.state.selectedPermissionsInAll)).includes(e)){var s=a.indexOf(e);a.splice(s,1)}else a.push(e);this.setState({selectedPermissionsInAll:a})}else if("granted"===t){if((a=Object(u.a)(this.state.selectedPermissionsInGranted)).includes(e)){var n=a.indexOf(e);a.splice(n,1)}else a.push(e);this.setState({selectedPermissionsInGranted:a})}console.log("Exitting handle click",this.state,this.className)}},{key:"grantSelectedPermissions",value:function(){var e=Object(u.a)(this.state.grantedPermissionsList);this.state.selectedPermissionsInAll.forEach(function(t){e.includes(t)||e.push(t)}),this.setState({grantedPermissionsList:e,selectedPermissionsInAll:[]})}},{key:"revokeSelectedPermissions",value:function(){var e=Object(u.a)(this.state.grantedPermissionsList);this.state.selectedPermissionsInGranted.forEach(function(t){var a=e.indexOf(t);e.splice(a,1)}),this.setState({grantedPermissionsList:e,selectedPermissionsInGranted:[]})}},{key:"handleSelectAll",value:function(e){"all"===e?this.setState({selectedPermissionsInAll:this.state.allPermissionsList}):"granted"===e&&this.setState({selectedPermissionsInGranted:this.state.grantedPermissionsList})}},{key:"render",value:function(){var e=this,t=this.generateDraggableList(this.state.allPermissionsList,"all"),a=this.generateDraggableList(this.state.grantedPermissionsList,"granted"),s=this.generateDraggableList(this.state.queriedAllPermissionsList,"all"),i=this.generateDraggableList(this.state.queriedgrantedPermissionsList,"granted");return n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"username"},n.a.createElement("span",null,this.props.name)),n.a.createElement("div",{className:"all-permissions"},n.a.createElement("i",{className:"fas fa-search"}),n.a.createElement("input",{type:"text",onChange:this.handleAllPermissionsSearch.bind(this),placeholder:"Search Permissions"}),n.a.createElement("span",{onClick:this.handleSelectAll.bind(this,"all")},"Select All"),n.a.createElement("div",{onDrop:function(t){return e.onDrop(t,"AllPermissions")},onDragOver:function(e){e.preventDefault()}},0===this.state.queriedAllPermissionsList.length?t:s)),n.a.createElement("div",{className:"arrow-buttons"},n.a.createElement("span",null,n.a.createElement("i",{className:"material-icons",onClick:this.grantSelectedPermissions.bind(this)},"play_arrow")),n.a.createElement("span",null,n.a.createElement("i",{className:"material-icons",onClick:this.revokeSelectedPermissions.bind(this)},"play_arrow"))),n.a.createElement("div",{className:"grated-permissions"},n.a.createElement("i",{className:"fas fa-search"}),n.a.createElement("input",{type:"text",onChange:this.handleGrantedPermissionsSearch.bind(this),placeholder:"Search Permissions"}),n.a.createElement("span",{onClick:this.handleSelectAll.bind(this,"granted")},"Select All"),n.a.createElement("div",{onDrop:function(t){return e.onDrop(t,"GrantedPermissions")},onDragOver:function(e){e.preventDefault()}},0===this.state.queriedgrantedPermissionsList.length?a:i)))}}]),t}(s.Component)),S=(a(66),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={allRows:[],currentRows:[],errorMessage:"",loading:!0,activePage:1,itemsCountPerPage:3,totalItemsCount:"",query:"",visible:!1,modalUser:""},a.sortingType="ascending",a.handlePageChange=a.handlePageChange.bind(Object(h.a)(a)),a.handleSelect=a.handleSelect.bind(Object(h.a)(a)),a.getRowsData=a.getRowsData.bind(Object(h.a)(a)),a.handleSearchChange=a.handleSearchChange.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),p.a.get("https://jsonplaceholder.typicode.com/users").then(function(t){console.log("Success response from Api ",t),e.setState({allRows:t.data,errorMessage:"",loading:!1,totalItemsCount:t.data.length}),e.getRowsData(1)}).catch(function(t){console.log("Error response from Api",t.response),e.setState({allRows:[],errorMessage:"Unable to fetch data, please try later.",loading:!1})})}},{key:"handleSelect",value:function(e){var t=this;this.setState({itemsCountPerPage:e.target.value},function(){t.getRowsData(t.state.activePage)})}},{key:"handlePageChange",value:function(e){console.log("active page is ".concat(e)),this.setState({activePage:e}),this.getRowsData(e)}},{key:"getRowsData",value:function(e){var t=[],a=Object(u.a)(this.state.allRows),s=e*this.state.itemsCountPerPage,n=(e-1)*this.state.itemsCountPerPage;s<a.length?t=a.slice(n,s):s>=a.length&&(t=a.slice(n)),this.setState({currentRows:t})}},{key:"handleSearchChange",value:function(e){this.setState({query:e.target.value});var t=[];e.target.value.length>0?(this.state.allRows.forEach(function(a){a.name.search(e.target.value)>-1&&t.push(a)}),this.setState({currentRows:t})):this.getRowsData(this.state.activePage)}},{key:"sort",value:function(e){var t=this,a=Object(u.a)(this.state.allRows);"ascending"===this.sortingType?(a.sort(function(t,a){return"company"===e?t.company.name>=a.company.name?1:-1:t[e]>=a[e]?1:-1}),this.sortingType="descending"):(a.sort(function(t,a){return"company"===e?t.company.name<=a.company.name?1:-1:t[e]<=a[e]?1:-1}),this.sortingType="ascending"),this.setState({allRows:a},function(){t.getRowsData(t.state.activePage)})}},{key:"show",value:function(e){this.setState({visible:!0,modalUser:e})}},{key:"hide",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=[];return this.state.currentRows.forEach(function(a){t.push(n.a.createElement("tr",{key:a.id},n.a.createElement("td",null,n.a.createElement("span",{className:"link",onClick:e.show.bind(e,a.name)},a.name),n.a.createElement("span",null,a.email)),n.a.createElement("td",null,a.phone),n.a.createElement("td",null,a.username),n.a.createElement("td",null,a.company.name)))}),n.a.createElement("div",{className:"body"},n.a.createElement("div",{className:"searchbar"},n.a.createElement("input",{type:"text",value:this.state.query,onChange:this.handleSearchChange,placeholder:"Search"}),n.a.createElement("i",{className:"fas fa-search"})),n.a.createElement("div",{className:"table-container"},n.a.createElement("table",{className:"table table-hover"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"FULL NAME"," ",n.a.createElement("i",{className:"material-icons",onClick:this.sort.bind(this,"name")},"arrow_drop_down")),n.a.createElement("th",null,"PHONE"," ",n.a.createElement("i",{className:"material-icons",onClick:this.sort.bind(this,"phone")},"arrow_drop_down")),n.a.createElement("th",null,"USER NAME"," ",n.a.createElement("i",{className:"material-icons",onClick:this.sort.bind(this,"username")},"arrow_drop_down")),n.a.createElement("th",null,"COMPANY NAME"," ",n.a.createElement("i",{className:"material-icons",onClick:this.sort.bind(this,"company")},"arrow_drop_down")))),n.a.createElement("tbody",null,t))),n.a.createElement("div",{className:"pagination-container"},n.a.createElement("div",{className:"row-count"},n.a.createElement("label",{htmlFor:"items"},"Items"),n.a.createElement("select",{id:"items",value:this.state.itemsCountPerPage,onChange:this.handleSelect},n.a.createElement("option",{value:1},"1"),n.a.createElement("option",{value:2},"2"),n.a.createElement("option",{value:3},"3"),n.a.createElement("option",{value:4},"4"),n.a.createElement("option",{value:5},"5"),n.a.createElement("option",{value:6},"6"))),n.a.createElement("div",{className:"pagination"},n.a.createElement(E.a,{activePage:this.state.activePage,itemsCountPerPage:this.state.itemsCountPerPage,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:3,onChange:this.handlePageChange}))),n.a.createElement(b.a,{visible:this.state.visible,onClose:this.hide.bind(this),measure:"%",width:70,height:60},this.state.visible?n.a.createElement(P,{name:this.state.modalUser}):null))}}]),t}(s.Component)),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a.logout=a.logout.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){localStorage.removeItem("email"),this.props.history.push({pathname:"/"})}},{key:"render",value:function(){return localStorage.getItem("email")||this.props.history.push({pathname:"/"}),n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"header"},n.a.createElement("i",{className:"fas fa-american-sign-language-interpreting"}),n.a.createElement("span",null,n.a.createElement("i",{className:"fas fa-user"}),localStorage.getItem("email"),n.a.createElement("div",{className:"dropdown",onClick:this.logout},n.a.createElement("span",null,"Logout")))),n.a.createElement(S,null))}}]),t}(n.a.Component),C=(a(67),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:"",errorMessage:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;"email"===t?this.setState({email:a,errorMessage:""}):"password"===t&&this.setState({password:a,errorMessage:""})}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.state.email&&""!==this.state.password?(localStorage.setItem("email",this.state.email),this.props.history.push({pathname:"/Home"})):this.setState({errorMessage:"Please fill all the details to login."})}},{key:"render",value:function(){return localStorage.getItem("email")&&this.props.history.push({pathname:"/Home"}),n.a.createElement("div",{id:"login"},n.a.createElement("div",{className:"login-container"},n.a.createElement("h1",null,"Login"),n.a.createElement("label",{for:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",value:this.state.email,name:"email",onChange:this.handleChange}),n.a.createElement("label",{for:"password"},"Password"),n.a.createElement("input",{type:"password",id:"password",value:this.state.password,name:"password",onChange:this.handleChange}),""!==this.state.errorMessage?n.a.createElement("span",{className:"error-message"},this.state.errorMessage):null,n.a.createElement("button",{onClick:this.handleSubmit},"Login")))}}]),t}(s.Component)),w=a(32),k=a(13);l.a.render(n.a.createElement(w.a,null,n.a.createElement("div",null,n.a.createElement(k.a,{exact:!0,path:"/",component:C}),n.a.createElement(k.a,{path:"/Home",component:y}))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.e9efb26c.chunk.js.map